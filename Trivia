import qrcode
import io
import base64

# Create a QR code for the trivia game web page
url = "https://github.com/The1theycallZack/The1theycallZack.git"  # Replace with the actual URL of your trivia.html
qr = qrcode.QRCode(
    version=1,
    error_correction=qrcode.constants.ERROR_CORRECT_L,
    box_size=10,
    border=4,
)
qr.add_data(url)
qr.make(fit=True)

img = qr.make_image(fill_color="black", back_color="white")
img.save("trivia_qr.png")


def generate_qr_code(data):
    qr = qrcode.QRCode(
        version=1,
        error_correction=qrcode.constants.ERROR_CORRECT_L,
        box_size=10,
        border=4,
    )
    qr.add_data(data)
    qr.make(fit=True)
    img = qr.make_image(fill_color="black", back_color="white")

    # Save the QR code as an image or convert it to a base64 string
    img.save("qrcode.png")
    buffer = io.BytesIO()
    img.save(buffer)
    base64_image = base64.b64encode(buffer.getvalue()).decode()

    return base64_image

def start_trivia_game(questions):
    score = 0

    for question, answer in questions.items():
        user_answer = input(f"{question}: ").strip().lower()
        if user_answer == answer.lower():
            score += 1

    print(f"Your score is: {score}/{len(questions)}")

if __name__ == "__main__":
    trivia_questions = {
        "What is the capital of France?": "Paris",
        "Who wrote 'Romeo and Juliet'?": "William Shakespeare",
        # Add more questions as needed
    }

    qr_code_data = "\n".join([f"{q}: {a}" for q, a in trivia_questions.items()])
    qr_code_image = generate_qr_code(qr_code_data)

    print("Scan the following QR code to start the trivia game:")
    print(qr_code_image)

    start_trivia_game(trivia_questions)
